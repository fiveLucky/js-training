<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>ESModule</title>
    <style></style>
  </head>

  <body>
    <div id="level1">
      <div id="level2">
        <div id="level3">冒泡和捕获</div>
      </div>
    </div>

    <input id="input" type="text" oninput="input" onchange="change" />
    <script>
      document.getElementById("input").oninput = input;
      document.getElementById("input").onchange = change;
      function input() {
        alert("sdfds");
      }
      function change() {
        alert("342545");
      }
      document.getElementById("level1").addEventListener(
        "click",
        () => {
          alert("level1");
        },
        false
      );
      document.getElementById("level2").addEventListener(
        "click",
        () => {
          alert("level2");
        },
        false
      );
      document.getElementById("level3").addEventListener(
        "click",
        () => {
          alert("level3");
        },
        false
      );
    </script>
    <script type="module">
      /**
       * ESModule 主流浏览器已经原生支持，type=module
       * 浏览器会对里面 import 的模块发 get 请求，所以需要一个服务器支持
       *
       *
       */
      /**
       * 报错：
       * Failed to load module script: The server responded with a
       * non-JavaScript MIME type of "text/html". Strict MIME type checking
       * is enforced for module scripts per HTML spec.
       * 解决方法：
       * 第一种方式：使用koa-static中间件，自动处理静态文件请求响应
       * 第二种方式：如果自己处理请求，需要对特定文件类型指定 content-type
       * */

      import waterMark from "../Canvas/waterMark/index.js";

      waterMark.pictureMark("../asset/img/car.jpeg");
    </script>
  </body>
</html>
